<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="style.css">
    <style>
          html, body {
            height: 100%;
        }

        body {
            display: flex;
            flex-direction: row;
            margin: 0;
        }

        aside {
            position: fixed;
            top: 0;
            left: 0;
            width: 20%;
            height: 100vh;
            z-index: 10;
        }
        main {
            margin-left: 20%;
            width: 80%;
        }
        @media (max-width: 1024px) {
            aside {
                width: 100%;
                position: static;
                height: auto;
            }

            main {
                margin-left: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="spinner" class="spinner hidden"></div>
    <!-- Sidebar -->
    <aside class="bg-gradient-to-r from-blue-800 to-blue-900 text-white flex flex-col p-6 shadow-lg">
        <h1 class="text-3xl font-extrabold mb-6 tracking-wide">Weather App</h1>
        <nav class="space-y-4">
            <a href="#weatherInfo" class="block py-2 px-4 bg-blue-700 rounded-md hover:bg-blue-600 font-medium transition duration-300 ease-in-out">Dashboard</a>
            <a href="#forecastTable" class="block py-2 px-4 bg-blue-700 rounded-md hover:bg-blue-600 font-medium transition duration-300 ease-in-out">Table</a>
        </nav>
    </aside>
    <!-- Main Content -->
    <main class="p-8 space-y-8">
        <!-- Search Bar and Geolocation -->
        <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4">
            <input id="cityInput" type="text" class="w-full md:w-2/3 p-3 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 ease-in-out" placeholder="Enter city name">
            <button id="getWeatherBtn" class="bg-blue-500 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-600 transition duration-300 ease-in-out">Get Weather</button>
            <button id="geolocationBtn" class="bg-green-500 text-white px-6 py-2 rounded-lg shadow hover:bg-green-600 transition duration-300 ease-in-out">Use My Location</button>
        </div>
        <!-- Units Selector -->
        <div>
            <label for="getmetric" class="font-medium text-gray-600">Units:</label>
            <select name="metric" id="getmetric" class="bg-white p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500">
                <option value="metric">°C</option>
                <option value="imperial">°F</option>
            </select>
        </div>
        <!-- Weather Widget -->
        <div id="weatherInfo" class="p-6 rounded-lg shadow-lg bg-white hidden">
            <h2 id="cityName" class="text-2xl font-bold mb-2"></h2>
            <p><strong>Temperature:</strong> <span id="temperature"></span></p>
            <p><strong>Weather:</strong> <span id="weatherDesc"></span></p>
            <p><strong>Humidity:</strong> <span id="humidity"></span>%</p>
            <p><strong>Wind Speed:</strong> <span id="windSpeed"></span> m/s</p>
        </div>
        <!-- Chart Section -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="p-4 bg-white rounded-lg shadow-md">
                <canvas id="barChart" class="max-h-60"></canvas>
            </div>
            <div class="p-4 bg-white rounded-lg shadow-md">
                <canvas id="doughnutChart" class="max-h-60"></canvas>
            </div>
            <div class="p-4 bg-white rounded-lg shadow-md">
                <canvas id="lineChart" class="max-h-60"></canvas>
            </div>
        </div>
        <!-- Flex container for Forecast Table and Chatbot -->
        <div class="flex flex-col lg:flex-row lg:space-x-6">
            <!-- Forecast Table -->
            <div class="w-full lg:w-1/2 bg-white p-6 rounded-lg shadow-lg mb-6 lg:mb-0">
                <h3 class="text-xl font-bold mb-4">5-Day Forecast Table</h3>
                <div class="flex space-x-1 text-sm mb-1">
                    <button id="sortAscBtn" class="bg-blue-500 text-white px-2 py-1 rounded-lg shadow hover:bg-blue-600 transition duration-300 ease-in-out">Sort Ascending</button>
                    <button id="sortDescBtn" class="bg-blue-500 text-white px-2 py-1 rounded-lg shadow hover:bg-blue-600 transition duration-300 ease-in-out">Sort Descending</button>
                    <button id="filterRainBtn" class="bg-blue-500 text-white px-2 py-1 rounded-lg shadow hover:bg-blue-600 transition duration-300 ease-in-out">Show Only Rainy Days</button>
                    <button id="highestTempBtn" class="bg-blue-500 text-white px-2 py-1 rounded-lg shadow hover:bg-blue-600 transition duration-300 ease-in-out">Highest Temperature Day</button>
                </div>
                <table id="forecastTable" class="table-auto w-full border-collapse border border-gray-300">
                    <thead>
                        <tr class="bg-gray-100">
                            <th class="border border-gray-300 px-4 py-2 font-semibold text-gray-600">Date</th>
                            <th class="border border-gray-300 px-4 py-2 font-semibold text-gray-600">Temperature</th>
                            <th class="border border-gray-300 px-4 py-2 font-semibold text-gray-600">Weather</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <!-- Chatbot Section -->
            <div class="w-full lg:w-1/2 bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-bold mb-4">Chatbot</h3>
                <div id="chatBox" class="overflow-auto h-60 p-4 bg-gray-200 rounded-lg mb-4" style="max-height: 300px;">
                    <!-- Chat messages will appear here -->
                </div>
                <div class="flex space-x-4">
                    <input id="chatInput" type="text" class="flex-1 p-3 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Ask me something...">
                    <button id="sendChatBtn" class="bg-blue-500 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-600 transition duration-300 ease-in-out">Send</button>
                </div>
            </div>
        </div>
    </main>
</body>
</html>
